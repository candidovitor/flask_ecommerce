{% extends 'layout.html' %}

{% block content %}

{% include '_messages.html' %}
<div class="conteiner">
    <div class="col-md-2"></div>
    <div class="col-md-8">
        <h2 class="text-center"> Add a product</h2>
        {% from "_formhelpers.html" import render_field %}
        <form action="" method="POST" enctype="multipart/form-data">
            {{ render_field(form.name, class="form-control", placeholders="Add product name")}}
            {{ render_field(form.price, class="form-control", placeholders="Add product price")}}
            {{ render_field(form.discount, class="form-control", placeholders="Add product discount")}}
            {{ render_field(form.stock, class="form-control", placeholders="Add product stock")}}

            <label for="brand">Add a brand</label>
            <select name="brand" id="brand" class="form-control" required>
                <option value="">Select a brand</option>
                {% for brand in brands %}
            <option value="brand.id"> {{brand.name}}</option>
            {% endfor %}

            </select>

            <label for="category">Add a Category</label>
            <select name="category" id="category" class="form-control" required>
                <option value="">Add a category</option>
                {% for category in category %}
            <option value="category.id"> {{category.name}}</option>
            {% endfor %}

            {{ render_field(form.colors, class="form-control", placeholders="Add product colors")}}
            {{ render_field(form.discription, class="form-control", placeholders="Add product details", rows="10")}}
        
            <div class="conteiner">
                <div class="row">
                    <div class="col-md-4">{{ render_field(form.image_1, class="form-control")}}</div>
                    <div class="col-md-4">{{ render_field(form.image_2, class="form-control")}}</div>
                    <div class="col-md-4">{{ render_field(form.image_3, class="form-control")}}</div>
                </div>
            </div>
        </form>
    </div>
    <div class="col-md-2"></div>
</div>


{% endblock content %}

""" __seachbale__ = ['name','desc']
    id = db.Column(db.Integer, primary_key=True)
    name = db.Column(db.String(80), nullable=False)
    price = db.Column(db.Numeric(10,2), nullable=False)
    discount = db.Column(db.Integer, default=0)
    stock = db.Column(db.Integer, nullable=False)
    colors = db.Column(db.Text, nullable=False)
    desc = db.Column(db.Text, nullable=False)
    pub_date = db.Column(db.DateTime, nullable=False,default=datetime.utcnow)

    category_id = db.Column(db.Integer, db.ForeignKey('category.id'),nullable=False)
    category = db.relationship('Category',backref=db.backref('categories', lazy=True))

    brand_id = db.Column(db.Integer, db.ForeignKey('brand.id'),nullable=False)
    brand = db.relationship('Brand',backref=db.backref('brands', lazy=True))

    image_1 = db.Column(db.String(150), nullable=False, default='image1.jpg')
    image_2 = db.Column(db.String(150), nullable=False, default='image2.jpg')
    image_3 = db.Column(db.String(150), nullable=False, default='image3.jpg')

    def __repr__(self):
        return '<Post %r>' % self.name
 """